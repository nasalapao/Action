<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0f0f1a">
  <meta name="description" content="แอพติดตามการออกกำลังกายแบบแข่งขัน">

  <title>🏃 Exercise Tracker</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!-- Header -->
  <header class="header">
    <h1 class="header__title">
      🏃 Exercise Tracker
    </h1>
    <p class="header__subtitle">เลือกผู้ใช้งานของคุณ</p>
  </header>

  <!-- Main Content -->
  <main class="container">
    <!-- User Selection -->
    <div class="card">
      <div class="card__header">
        <span class="card__icon">👥</span>
        <span>เลือกผู้ใช้</span>
      </div>

      <div id="userGrid" class="user-grid">
        <!-- Users will be loaded here -->
        <div class="spinner"></div>
      </div>

      <div id="emptyUsers" class="empty-state hidden">
        <div class="empty-state__icon">🏋️</div>
        <p class="empty-state__text">ยังไม่มีผู้ใช้<br>กรุณาเพิ่มผู้ใช้ในหน้า Admin</p>
      </div>
    </div>

    <!-- Quick Stats Preview -->
    <div class="card">
      <div class="card__header">
        <span class="card__icon">🏆</span>
        <span>อันดับ Streak</span>
      </div>

      <ul id="quickLeaderboard" class="leaderboard">
        <!-- Leaderboard preview will be loaded here -->
      </ul>
    </div>

    <!-- All Users Weight Chart -->
    <div class="card">
      <div class="card__header">
        <span class="card__icon">⚖️</span>
        <span>กราฟน้ำหนักทุกคน</span>
      </div>

      <div class="chart-container">
        <canvas id="allUsersWeightChart"></canvas>
      </div>

      <div id="noAllWeightData" class="empty-state hidden">
        <div class="empty-state__icon">📊</div>
        <p class="empty-state__text">ยังไม่มีข้อมูลน้ำหนัก</p>
      </div>

      <div id="weightLegend" class="weight-legend"></div>
    </div>

    <!-- Admin Button -->
    <a href="admin.html" class="btn btn--secondary mt-lg">
      ⚙️ จัดการระบบ (Admin)
    </a>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <div class="bottom-nav__inner">
      <a href="index.html" class="bottom-nav__item bottom-nav__item--active">
        <span class="bottom-nav__icon">🏠</span>
        <span>หน้าแรก</span>
      </a>
      <a href="dashboard.html" class="bottom-nav__item">
        <span class="bottom-nav__icon">📊</span>
        <span>แดชบอร์ด</span>
      </a>
      <a href="history.html" class="bottom-nav__item">
        <span class="bottom-nav__icon">📋</span>
        <span>ประวัติ</span>
      </a>
      <a href="admin.html" class="bottom-nav__item">
        <span class="bottom-nav__icon">⚙️</span>
        <span>Admin</span>
      </a>
    </div>
  </nav>

  <!-- Toast Container -->
  <div class="toast-container"></div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

  <!-- App Scripts -->
  <script src="js/firebase-config.js"></script>
  <script src="js/db.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/app.js"></script>
</body>

</html>